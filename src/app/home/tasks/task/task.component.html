<div class="boxed task-box"
     [ngClass]="{'focused': focused}"
     [class]="task.color">
  <div class="edit-box">
    <div class="editable no-outline text-left h-100"
         contenteditable="true"
         placeholder="Note..."
         [innerHtml]="task.note"
         (focus)="focused = true"
         (focusout)="focusOut($event.target); focused = false">
    </div>
  </div>
  <hr>
  <div class="options-box d-flex flex-row flex-nowrap align-items-center">
    <div ngbDropdown
         placement="bottom-center"
         class="d-inline-block">
      <button class="btn p-0 no-outline"
              ngbDropdownToggle>
        <i class="fa fa-square-o pointer"></i>
      </button>
      <div ngbDropdownMenu>
        <div class="d-flex flex-row flex-nowrap align-items-center justify-content-center">
          <i class="fa fa-square pointer teal-color"
             (click)="setColor('teal')"></i>
          <i class="fa fa-square pointer blue-color"
             (click)="setColor('blue')"></i>
          <i class="fa fa-square pointer deep-orange-color"
             (click)="setColor('deep-orange')"></i>
          <i class="fa fa-square pointer amber-color"
             (click)="setColor('amber')"></i>
          <i class="fa fa-square pointer brown-color"
             (click)="setColor('brown')"></i>
        </div>
      </div>
    </div>
    <div ngbDropdown
         placement="bottom-center"
         class="d-inline-block">
      <button class="btn p-0 no-outline"
              ngbDropdownToggle>
        <i class="options-icon pointer fa fa-ellipsis-h"></i>
      </button>
      <div ngbDropdownMenu>
        <button class="dropdown-item"
                *ngIf="!task.trashed"
                (click)="moveToTrash()">
          <i class="fa fa-trash-o pointer"></i>
          Delete
        </button>
        <button class="dropdown-item"
                *ngIf="task.trashed"
                (click)="restore()">
          <i class="fa fa-undo pointer"></i>
          Restore
        </button>
        <button class="dropdown-item"
                *ngIf="task.trashed"
                (click)="delete()">
          <i class="fa fa-trash-o pointer"></i>
          Delete forever
        </button>
      </div>
    </div>
  </div>
</div>